{"ast":null,"code":"import React,{useState}from\"react\";import Modal from\"react-modal\";import api from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const customStyles={content:{top:\"50%\",left:\"50%\",right:\"auto\",bottom:\"auto\",marginRight:\"-50%\",transform:\"translate(-50%, -50%)\",padding:\"20px\",borderRadius:\"10px\",backgroundColor:\"#fff\",boxShadow:\"0 4px 8px rgba(0, 0, 0, 0.2)\",maxWidth:\"500px\",width:\"90%\"}};Modal.setAppElement(\"#root\");const FormularioTarefa=_ref=>{let{tarefa={},onClose}=_ref;// Usa `tarefa || {}` como fallback para evitar erros de null\nconst[nome,setNome]=useState((tarefa===null||tarefa===void 0?void 0:tarefa.nome)||\"\");const[custo,setCusto]=useState((tarefa===null||tarefa===void 0?void 0:tarefa.custo)||\"\");const[dataLimite,setDataLimite]=useState(tarefa!==null&&tarefa!==void 0&&tarefa.dataLimite?new Date(tarefa.dataLimite).toISOString().substr(0,10):\"\");const[erro,setErro]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();setErro(\"\");try{if(tarefa!==null&&tarefa!==void 0&&tarefa.id){// Editar tarefa existente\nawait api.put(\"/tarefas/\".concat(tarefa.id),{nome,custo,dataLimite});}else{// Criar nova tarefa\nawait api.post(\"/tarefas\",{nome,custo,dataLimite});}onClose();// Fecha o modal após a operação\n}catch(error){var _error$response,_error$response$data;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"Erro ao salvar tarefa. Verifique os dados.\";setErro(errorMessage);}};return/*#__PURE__*/_jsx(Modal,{isOpen:true,onRequestClose:onClose,style:customStyles,contentLabel:\"Incluir/Editar Tarefa\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:tarefa!==null&&tarefa!==void 0&&tarefa.id?\"Editar Tarefa\":\"Incluir Tarefa\"}),erro&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:erro}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:\"block\",marginBottom:\"5px\"},children:\"Nome:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nome,onChange:e=>setNome(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",borderRadius:\"5px\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:\"block\",marginBottom:\"5px\"},children:\"Custo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:custo,onChange:e=>setCusto(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",borderRadius:\"5px\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:\"block\",marginBottom:\"5px\"},children:\"Data Limite:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dataLimite,onChange:e=>setDataLimite(e.target.value),required:true,style:{width:\"100%\",padding:\"8px\",borderRadius:\"5px\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:\"10px 20px\",backgroundColor:\"#4CAF50\",color:\"#fff\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\"},children:\"Salvar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,style:{padding:\"10px 20px\",backgroundColor:\"#f44336\",color:\"#fff\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\"},children:\"Cancelar\"})]})]})});};export default FormularioTarefa;","map":{"version":3,"names":["React","useState","Modal","api","jsx","_jsx","jsxs","_jsxs","customStyles","content","top","left","right","bottom","marginRight","transform","padding","borderRadius","backgroundColor","boxShadow","maxWidth","width","setAppElement","FormularioTarefa","_ref","tarefa","onClose","nome","setNome","custo","setCusto","dataLimite","setDataLimite","Date","toISOString","substr","erro","setErro","handleSubmit","e","preventDefault","id","put","concat","post","error","_error$response","_error$response$data","errorMessage","response","data","isOpen","onRequestClose","style","contentLabel","children","onSubmit","color","marginBottom","display","type","value","onChange","target","required","justifyContent","border","cursor","onClick"],"sources":["C:/Users/eduar/lista-de-tarefas/frontend/src/components/FormularioTarefa.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport api from \"../services/api\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    padding: \"20px\",\r\n    borderRadius: \"10px\",\r\n    backgroundColor: \"#fff\",\r\n    boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.2)\",\r\n    maxWidth: \"500px\",\r\n    width: \"90%\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst FormularioTarefa = ({ tarefa = {}, onClose }) => {\r\n  // Usa `tarefa || {}` como fallback para evitar erros de null\r\n  const [nome, setNome] = useState(tarefa?.nome || \"\");\r\n  const [custo, setCusto] = useState(tarefa?.custo || \"\");\r\n  const [dataLimite, setDataLimite] = useState(\r\n    tarefa?.dataLimite\r\n      ? new Date(tarefa.dataLimite).toISOString().substr(0, 10)\r\n      : \"\"\r\n  );\r\n  const [erro, setErro] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErro(\"\");\r\n    try {\r\n      if (tarefa?.id) {\r\n        // Editar tarefa existente\r\n        await api.put(`/tarefas/${tarefa.id}`, {\r\n          nome,\r\n          custo,\r\n          dataLimite,\r\n        });\r\n      } else {\r\n        // Criar nova tarefa\r\n        await api.post(\"/tarefas\", {\r\n          nome,\r\n          custo,\r\n          dataLimite,\r\n        });\r\n      }\r\n      onClose(); // Fecha o modal após a operação\r\n    } catch (error) {\r\n      const errorMessage =\r\n        error.response?.data?.error ||\r\n        \"Erro ao salvar tarefa. Verifique os dados.\";\r\n      setErro(errorMessage);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={true}\r\n      onRequestClose={onClose}\r\n      style={customStyles}\r\n      contentLabel=\"Incluir/Editar Tarefa\"\r\n    >\r\n      <form onSubmit={handleSubmit}>\r\n        <h2>{tarefa?.id ? \"Editar Tarefa\" : \"Incluir Tarefa\"}</h2>\r\n\r\n        {erro && <p style={{ color: \"red\" }}>{erro}</p>}\r\n\r\n        <div style={{ marginBottom: \"10px\" }}>\r\n          <label style={{ display: \"block\", marginBottom: \"5px\" }}>Nome:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={nome}\r\n            onChange={(e) => setNome(e.target.value)}\r\n            required\r\n            style={{ width: \"100%\", padding: \"8px\", borderRadius: \"5px\" }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ marginBottom: \"10px\" }}>\r\n          <label style={{ display: \"block\", marginBottom: \"5px\" }}>\r\n            Custo:\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            value={custo}\r\n            onChange={(e) => setCusto(e.target.value)}\r\n            required\r\n            style={{ width: \"100%\", padding: \"8px\", borderRadius: \"5px\" }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ marginBottom: \"20px\" }}>\r\n          <label style={{ display: \"block\", marginBottom: \"5px\" }}>\r\n            Data Limite:\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            value={dataLimite}\r\n            onChange={(e) => setDataLimite(e.target.value)}\r\n            required\r\n            style={{ width: \"100%\", padding: \"8px\", borderRadius: \"5px\" }}\r\n          />\r\n        </div>\r\n\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n          <button\r\n            type=\"submit\"\r\n            style={{\r\n              padding: \"10px 20px\",\r\n              backgroundColor: \"#4CAF50\",\r\n              color: \"#fff\",\r\n              border: \"none\",\r\n              borderRadius: \"5px\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Salvar\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            style={{\r\n              padding: \"10px 20px\",\r\n              backgroundColor: \"#f44336\",\r\n              color: \"#fff\",\r\n              border: \"none\",\r\n              borderRadius: \"5px\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default FormularioTarefa;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}